<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Storage</title>
    <link rel="stylesheet" href="stylesheets/style.css">
  </head>
  <body>
    <script src="javascripts/lib/underscore-min.js"></script>
    <script src="javascripts/lib/jquery-1.10.2.min.js"></script>
    <script src="javascripts/lib/handlebars-1.0.0.js"></script>
    <script src="javascripts/lib/ember.js"></script>
    <script src="javascripts/lib/ember-data.js"></script>

    <script type="text/x-handlebars">
      <header>
        <h1>Habu Prototpye</h1>
      </header>
        {{outlet}}
      <hr>
      <footer>
        <div id="copyright">
          &copy;2014 UNM Informatics
        </div>
        <div id="style-control">
          Habu Prototype v 0.0.1 ({{theme}})
        </div>
      </footer>
    </script>

    <script type="text/x-handlebars" data-template-name="index">
      <section>
        <p>This is a small application to experiment with local in-browser data storage.  This should run in browsers as well as within Apache Cordova-based applications.</p>
      </section>
      <nav>
        previous
        {{#link-to navigationState.next}}next{{/link-to}}
      </nav>
    </script>

    <script type="text/x-handlebars" data-template-name="one">
      <section>
        <p>one</p>
      </section>
      <nav>
        {{#link-to navigationState.previous}}previous{{/link-to}}
        {{#link-to navigationState.next}}next{{/link-to}}
      </nav>
    </script>

    <script type="text/x-handlebars" data-template-name="two">
      <section>
        <p>two</p>
      </section>
      <nav>
        {{#link-to navigationState.previous}}previous{{/link-to}}
        next
      </nav>
    </script>

    <script>

      window.Habu = Ember.Application.create({
        LOG_TRANSITIONS: true,
        LOG_TRANSITIONS_INTERNAL: true,
      });

      Habu.Router.map(function() {
        this.resource('one');
        this.resource('two')
      });

      Habu.ApplicationController = Ember.ObjectController.extend({
        theme: 'sidewinder'
      });

      Habu.IndexController = Ember.ObjectController.extend({
        navigationState: {
          next: 'one',
          previous: ''
        }
      });

      Habu.OneController = Ember.ObjectController.extend({
        navigationState: {
          next: 'two',
          previous: 'index'
        }
      });

      Habu.TwoController = Ember.ObjectController.extend({
        navigationState: {
          next: '',
          previous: 'one'
        }
      });


    </script>
  </body>
 </html>
